# 🤖 راهنمای تشخیص هوشمند رابط کاربری تلگرام

## ویژگی‌های جدید تشخیص هوشمند

### 🎯 تشخیص خودکار موقعیت عناصر
برنامه حالا قادر است به طور خودکار موقعیت دقیق عناصر مختلف تلگرام را تشخیص دهد:

- **لیست چت‌ها**: تشخیص دقیق موقعیت هر چت در سمت چپ
- **ناحیه پیام‌ها**: شناسایی منطقه نمایش پیام‌ها
- **باکس ورودی پیام**: پیدا کردن دقیق محل تایپ پیام
- **دکمه ارسال**: تشخیص موقعیت دکمه Send

### 🔍 تکنولوژی‌های مورد استفاده

#### تشخیص تصویری با OpenCV
```python
# تشخیص رنگ‌های مشخصه تلگرام
telegram_blue_lower = np.array([100, 50, 50])  # HSV
telegram_blue_upper = np.array([130, 255, 255])

# تشخیص عناصر UI
contours, _ = cv2.findContours(blue_mask, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)
```

#### تحلیل هوشمند محتوا
- **تشخیص چت‌های خوانده نشده**: پیدا کردن badge های آبی رنگ
- **تحلیل نیاز به پاسخ**: بررسی محتوای پیام‌ها برای تشخیص سوال‌ها و پیام‌های فوری
- **فیلتر کردن پیام‌های مهم**: حذف اعلان‌ها و پیام‌های سیستمی

## 🚀 نحوه استفاده

### 1. تشخیص هوشمند چت‌ها
```
کلیک روی دکمه "🤖 تشخیص هوشمند چت‌ها"
```

**این حالت:**
- ابتدا چت‌های خوانده نشده را شناسایی و پاسخ می‌دهد
- سپس سایر چت‌ها را بررسی می‌کند
- فقط به پیام‌هایی پاسخ می‌دهد که واقعاً نیاز دارند

### 2. خواندن پیشرفته (حالت کلاسیک)
```
کلیک روی دکمه "👁️ خواندن پیشرفته چت‌ها"
```

**این حالت:**
- همه چت‌های تعریف شده در کانفیگ را بررسی می‌کند
- به طور سیستماتیک پاسخ می‌دهد

## ⚙️ تنظیمات پیشرفته

### الگوریتم تشخیص نیاز به پاسخ
برنامه بر اساس موارد زیر تصمیم می‌گیرد:

```python
# نشانه‌های سوال
question_indicators = ['؟', '?', 'چی', 'چه', 'کی', 'کجا', 'چرا', 'چطور', 'آیا']

# کلمات فوری
urgent_keywords = ['فوری', 'مهم', 'ضروری', 'سریع', 'urgent', 'important']

# احوال‌پرسی
greeting_keywords = ['سلام', 'hi', 'hello', 'صبح بخیر', 'ظهر بخیر']
```

### تشخیص موقعیت عناصر
برنامه از چندین روش برای تشخیص استفاده می‌کند:

1. **تحلیل رنگ**: تشخیص رنگ‌های مشخصه تلگرام
2. **تشخیص شکل**: پیدا کردن دایره‌ها و مستطیل‌ها
3. **تحلیل بافت**: شناسایی الگوهای تکراری
4. **موقعیت‌یابی نسبی**: محاسبه موقعیت بر اساس اندازه صفحه

## 🔧 عیب‌یابی

### مشکلات احتمالی

#### برنامه نمی‌تواند عناصر را تشخیص دهد
**راه‌حل:**
- اطمینان حاصل کنید تلگرام در حالت windowed باشد (نه fullscreen)
- تم تلگرام را روی حالت پیش‌فرض تنظیم کنید
- رزولوشن صفحه را بررسی کنید

#### دقت پایین در تشخیص چت‌ها
**راه‌حل:**
- لیست چت‌ها را کاملاً باز کنید
- از اسکرول کردن زیاد خودداری کنید
- چند ثانیه صبر کنید تا برنامه تنظیمات را یاد بگیرد

### نکات بهینه‌سازی

1. **قبل از شروع:**
   - تلگرام را باز کنید
   - به حالت عادی (نه حداکثر) تنظیم کنید
   - صفحه اصلی چت‌ها را نمایش دهید

2. **حین اجرا:**
   - صفحه کلید و موس را لمس نکنید
   - پنجره‌های دیگر را روی تلگرام نگذارید
   - اجازه دهید برنامه کارش را تمام کند

## 📊 گزارش عملکرد

برنامه اطلاعات زیر را در لاگ نمایش می‌دهد:

- **تعداد چت‌های تشخیص داده شده**
- **موقعیت‌های دقیق عناصر UI**
- **چت‌های خوانده نشده**
- **تحلیل نیاز به پاسخ**
- **وضعیت ارسال پیام‌ها**

## 🎨 ویژگی‌های آینده

- تشخیص نوع چت (گروه، کانال، شخصی)
- تشخیص وضعیت آنلاین/آفلاین کاربران
- تحلیل احساسات پیام‌ها
- پاسخ‌دهی بر اساس اولویت
- یادگیری الگوهای مکالمه

---

**نکته مهم:** این ویژگی‌ها در حال توسعه هستند و ممکن است نیاز به تنظیمات اضافی داشته باشند. در صورت بروز مشکل، از حالت کلاسیک استفاده کنید.
