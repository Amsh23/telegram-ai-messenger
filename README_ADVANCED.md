# 🤖 Telegram AI Messenger - Advanced Edition
## نسخه پیشرفته مسنجر هوشمند تلگرام

### ✨ ویژگی‌های جدید نسخه پیشرفته

#### 🔹 مدیریت چند اکانت
- پشتیبانی از چندین اکانت تلگرام همزمان
- امکان تغییر اکانت بدون بستن برنامه
- ذخیره مسیر جداگانه برای هر اکانت

#### 🔹 مدیریت چند گروه
- امکان تعریف چندین گروه و کانال
- انتخاب آسان گروه از لیست کشویی
- ذخیره Chat ID و نام گروه برای هر گروه

#### 🔹 خواندن و پاسخ خودکار به همه چت‌ها
- اسکن خودکار همه چت‌های فعال
- خواندن آخرین پیام هر مکالمه
- تولید پاسخ هوشمند با AI برای هر کاربر
- پردازش همزمان چندین چت

---

## 🚀 نصب و راه‌اندازی

### پیش‌نیازها
```bash
# نصب Python 3.8 یا بالاتر
# نصب Ollama از https://ollama.ai

# نصب مدل‌های AI
ollama pull llama3.1:8b
ollama pull llama3.2
```

### نصب وابستگی‌ها
```bash
pip install -r requirements.txt
```

### اجرای برنامه
```bash
python telegram_ai_messenger.py
```

---

## ⚙️ پیکربندی فایل ai_config.json

### نمونه کامل پیکربندی:
```json
{
  "telegram_accounts": [
    {
      "username": "account1",
      "telegram_path": "C:\\Program Files\\WindowsApps\\TelegramMessengerLLP.TelegramDesktop_5.16.5.0_x64__t4vj0pshhgkwm\\Telegram.exe"
    },
    {
      "username": "account2", 
      "telegram_path": "C:\\Telegram Desktop\\Telegram.exe"
    },
    {
      "username": "account3",
      "telegram_path": "D:\\Apps\\Telegram\\Telegram.exe"
    }
  ],
  "groups": [
    {
      "group_name": "گروه اصلی",
      "chat_id": "-1001234567890"
    },
    {
      "group_name": "کانال خبری",
      "chat_id": "-1009876543210"
    },
    {
      "group_name": "گروه دوستان",
      "chat_id": "-1001111222333"
    }
  ],
  "base_message": "سلام! این یک پیام هوشمند است",
  "interval_seconds": 30.0,
  "ollama_url": "http://127.0.0.1:11434",
  "ollama_model": "llama3.1:8b",
  "ai_enabled": true,
  "personality": "دوستانه و صمیمی",
  "message_variety": true,
  "use_emojis": true,
  "selected_account": "account1",
  "selected_group": "گروه اصلی"
}
```

---

## 📖 راهنمای استفاده

### 1️⃣ تنظیم اکانت‌ها
1. فایل `ai_config.json` را ویرایش کنید
2. اکانت‌های تلگرام خود را اضافه کنید:
   - `username`: نام کاربری یا شناسه اکانت
   - `telegram_path`: مسیر فایل اجرایی تلگرام

### 2️⃣ تنظیم گروه‌ها
1. برای هر گروه، نام و Chat ID را اضافه کنید
2. Chat ID را از ربات‌های مخصوص دریافت کنید
3. نام گروه باید واضح و قابل تشخیص باشد

### 3️⃣ استفاده از رابط کاربری

#### تب تنظیمات اصلی:
- **انتخاب اکانت**: از لیست اکانت‌های تعریف شده انتخاب کنید
- **انتخاب گروه**: گروه مورد نظر را از لیست انتخاب کنید
- **پیام پایه**: متن اصلی که AI بر اساس آن پیام تولید می‌کند
- **فاصله زمانی**: بازه زمانی بین ارسال پیام‌ها (ثانیه)

#### تب هوش مصنوعی:
- **فعال‌سازی AI**: خاموش/روشن کردن تولید پیام هوشمند
- **آدرس Ollama**: معمولاً `http://127.0.0.1:11434`
- **مدل**: انتخاب مدل AI (پیشنهاد: llama3.1:8b)
- **شخصیت**: سبک پیام‌دهی AI
- **گزینه‌های پیشرفته**: تنوع پیام‌ها و استفاده از ایموجی

---

## 🎯 قابلیت‌های اصلی

### 🔸 ارسال پیام هوشمند
```
دکمه: 🚀 شروع ارسال هوشمند
```
- ارسال پیام‌های هوشمند به گروه انتخاب شده
- تولید محتوای متنوع با AI
- ارسال در بازه‌های زمانی تعیین شده

### 🔸 خواندن و پاسخ خودکار
```
دکمه: 👁️ خواندن و پاسخ به همه چت‌ها
```
- اسکن همه چت‌های فعال در لیست
- خواندن آخرین پیام هر مکالمه
- تولید پاسخ مناسب با هوش مصنوعی
- ارسال پاسخ خودکار

### 🔸 تست و بررسی
```
دکمه‌ها:
- 🤖 تست AI: بررسی اتصال به Ollama
- 📱 باز کردن تلگرام: اجرای تلگرام اکانت انتخاب شده
- 💾 ذخیره تنظیمات: ذخیره تغییرات
```

---

## 🛠️ عیب‌یابی مشکلات رایج

### مشکل: AI پاسخ نمی‌دهد
**راه‌حل:**
1. مطمئن شوید Ollama در حال اجرا است
2. مدل مورد نظر را نصب کنید: `ollama pull llama3.1:8b`
3. آدرس Ollama را بررسی کنید
4. دکمه "تست AI" را فشار دهید

### مشکل: تلگرام باز نمی‌شود
**راه‌حل:**
1. مسیر فایل تلگرام را در `ai_config.json` بررسی کنید
2. تلگرام را به صورت دستی اجرا کنید
3. اجازه‌های اجرا را بررسی کنید

### مشکل: گروه پیدا نمی‌شود
**راه‌حل:**
1. Chat ID را دوباره بررسی کنید
2. مطمئن شوید عضو گروه هستید
3. نام گروه را دقیق وارد کنید

### مشکل: خواندن پیام‌ها کار نمی‌کند
**راه‌حل:**
1. رزولوشن صفحه را تنظیم کنید
2. تلگرام را در حالت windowed اجرا کنید
3. لیست چت‌ها در سمت چپ باز باشد
4. موقعیت پنجره تلگرام را تنظیم کنید

---

## 🔧 تنظیمات پیشرفته

### تنظیم موقعیت کلیک‌ها
در تابع `read_and_reply_all_chats` موقعیت‌های x و y را متناسب با رزولوشن صفحه تنظیم کنید:

```python
# موقعیت چت‌ها در لیست
x = 200  # موقعیت افقی
y = 150 + i * 60  # موقعیت عمودی (فاصله 60 پیکسل)

# موقعیت ناحیه پیام
pyautogui.click(x + 400, y + 100)
```

### تنظیم تعداد چت‌ها
```python
for i in range(10):  # تغییر 10 به تعداد چت‌های مورد نظر
```

### تنظیم زمان انتظار
```python
time.sleep(1.5)  # زمان انتظار بین عملیات‌ها
```

---

## 📊 آمار و گزارش‌گیری

برنامه تمامی عملیات را در بخش لاگ نمایش می‌دهد:
- ✅ عملیات موفق
- ❌ خطاها و مشکلات  
- ⚠️ هشدارها
- 📨 پیام‌های دریافتی
- 🚀 شروع/پایان عملیات

---

## 🔒 نکات امنیتی

1. **حریم خصوصی**: برنامه فقط در سیستم محلی کار می‌کند
2. **رمزگذاری**: هیچ اطلاعاتی به سرور خارجی ارسال نمی‌شود
3. **دسترسی‌ها**: فقط به تلگرام و Ollama محلی دسترسی دارد
4. **ذخیره‌سازی**: تنظیمات فقط در فایل محلی ذخیره می‌شود

---

## 🆕 آپدیت‌ها و نسخه‌های جدید

برای آپدیت کردن:
1. فایل‌های جدید را دانلود کنید
2. فایل `ai_config.json` قدیمی را پشتیبان بگیرید  
3. فایل‌های جدید را جایگزین کنید
4. تنظیمات را بررسی کنید

---

## 🤝 پشتیبانی و کمک

برای گزارش مشکل یا درخواست ویژگی:
- [GitHub Issues](https://github.com/Amsh23/telegram-ai-messenger/issues)
- [Discussions](https://github.com/Amsh23/telegram-ai-messenger/discussions)

---

## 📜 مجوز استفاده

این پروژه تحت مجوز MIT منتشر شده است. برای اطلاعات بیشتر فایل `LICENSE` را مطالعه کنید.

---

**✨ نسخه پیشرفته - برای استفاده حرفه‌ای و تجاری ✨**
